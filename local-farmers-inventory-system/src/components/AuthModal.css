.auth-overlay{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(2,6,23,0.55); z-index:1200; padding: 16px; }
.auth-modal{ background:white; padding:22px; border-radius:12px; width:420px; max-width:720px; box-shadow:0 10px 30px rgba(2,6,23,0.2); transform:translateY(0); animation: auth-entrance 220ms ease-out; }
.auth-title{ margin:0 0 6px 0; font-size:20px; }
.auth-subtitle{ margin:0 0 14px 0; font-size:13px; color:#374151; }
.auth-modal input{ width:100%; padding:12px 14px; border:1px solid #e6e9ee; border-radius:10px; margin-bottom:12px; transition:box-shadow .12s, border-color .12s; }
.auth-modal input:focus{ outline:none; border-color: rgba(16,185,129,0.9); box-shadow:0 6px 18px rgba(16,185,129,0.08); }

/* keyboard focus ring for accessibility */
.auth-modal input:focus-visible, .auth-modal button:focus-visible, .auth-modal a:focus-visible { outline: 3px solid rgba(59,130,246,0.18); outline-offset: 2px; }
.auth-actions{ display:flex; gap:10px; align-items:center; margin-top:12px; justify-content:flex-end; }
.auth-actions .primary{ background:#10b981; color:white; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; box-shadow: 0 6px 18px rgba(16,185,129,0.12); }
.auth-actions .primary:hover{ transform:translateY(-1px); }
.auth-actions .primary[disabled]{ opacity:0.6; cursor:default; transform:none; }
.auth-actions .primary[disabled]::after{ content: ''; display:inline-block; margin-left:8px; width:14px; height:14px; border-radius:50%; border:2px solid rgba(255,255,255,0.6); border-top-color: rgba(255,255,255,0.95); animation: spin 0.8s linear infinite; vertical-align:middle; }
.auth-actions .link{ background:transparent; border:none; color:#374151; cursor:pointer; }

/* Form field helpers */
.field-row{ margin-bottom:12px; }
.field-label{ display:block; font-size:13px; color:#374151; margin-bottom:6px; }
.checkbox-row{ display:flex; align-items:center; gap:8px; margin-top:8px; margin-bottom:6px; }

.auth-switch{ margin-top:14px; font-size:14px; }
.auth-switch p{ margin:6px 0 0 0; }

/* Underline inline action links inside the auth modal (create account / forgot password / sign in) */
.auth-switch a{ text-decoration: underline; text-underline-offset: 2px; color: #0f172a; }
.auth-switch a:hover{ opacity: 0.9; }

/* Password toggle */
.password-input{ padding-right:46px; }
.password-toggle{ position:absolute; right:8px; top:8px; border:none; background:transparent; padding:4px; display:flex; align-items:center; justify-content:center; color:#374151; cursor:pointer; }


/* Review-specific readonly password styling (left icon inside) */
.password-wrapper{ position:relative; }
.review-readonly{ padding-left:40px; padding-right:12px; box-sizing:border-box; }
.password-wrapper .password-toggle{ top:8px; right:8px; }
.password-wrapper .password-toggle:hover{ color:#111827; }
.password-toggle:hover{ color:#111827; }

.auth-error{ color:#b91c1c; background:#fff1f2; padding:8px 10px; border-radius:8px; margin-bottom:8px; border:1px solid #fecaca; }

/* Important error highlight for required personal fields */
.auth-errors.important{ color:#7f1d1d; background:#fff1f2; padding:10px 12px; border-radius:8px; margin-bottom:10px; border:1px solid #fca5a5; font-weight:600; }
.auth-errors{ color:#b91c1c; background:#fff1f2; padding:8px 10px; border-radius:8px; margin-bottom:8px; border:1px solid #fecaca; }

/* Password strength meter */
.pw-meter{ margin-top:6px; margin-bottom:10px; }
.pw-bar{ height:10px; background:#eef2ff; border-radius:8px; overflow:hidden; display:inline-block; vertical-align:middle; width:66%; }
.pw-fill{ height:100%; width:0%; background:linear-gradient(90deg,#ef4444,#f59e0b,#10b981); transition:width .18s ease; }
.pw-label{ font-size:13px; color:#374151; margin-left:10px; display:inline-block; vertical-align:middle; font-weight:600; }
.pw-checklist{ margin-top:8px; font-size:13px; color:#374151; display:flex; flex-direction:column; gap:6px; }

/* Collapsible checklist - hidden by default to shorten the form */
.pw-checklist.collapsed{ display:none; }
.pw-toggle{ font-size:12px; color:#2563eb; cursor:pointer; margin-top:6px; }
.pw-check{ display:flex; gap:8px; align-items:center; color:#6b7280; }
.pw-check.ok{ color:#065f46; }
.pw-check .dot{ width:12px; height:12px; border-radius:50%; display:inline-block; background:#e6e9ee; }
.pw-check.ok .dot{ background:#10b981; }
.pw-small{ font-size:12px; color:#6b7280; margin-top:6px; }

/* Review summary styling for step 3 */
.review-box{ border:1px solid #eef2f6; background:#ffffff; padding:12px; border-radius:8px; margin-top:8px; }
.review-row{ display:flex; justify-content:space-between; align-items:center; padding:8px 0; border-bottom:1px dashed #f1f5f9; }
.review-row:last-child{ border-bottom:none; }
.review-val{ color:#0f172a; margin-top:4px; font-weight:500; }
.review-row .link{ padding:4px 8px; border-radius:6px; }

/* Styled readonly password in review step */
.review-val .password-input[readonly]{ border:1px dashed #e6eef6; padding:12px 44px 12px 14px; border-radius:10px; background:transparent; width:100%; max-width:420px; box-sizing:border-box; font-size:14px; }
.review-val .password-toggle{ background:transparent; border:none; cursor:pointer; color:#374151; padding:6px; }

/* Tighter wrapper to match primary input height and alignment */
.password-wrapper{ display:inline-block; width:100%; max-width:420px; }
.password-wrapper .review-readonly{ height:auto; line-height:20px; }
.password-wrapper .password-toggle.left{ left:12px; }

/* Improve visual focus ring match for read-only review */
.review-val .password-input[readonly]:focus-visible{ outline: 3px solid rgba(59,130,246,0.12); outline-offset: 2px; }

@keyframes auth-entrance { from { transform: translateY(6px); opacity:0 } to { transform: translateY(0); opacity:1 } }
@keyframes spin { to { transform: rotate(360deg); } }

/* Responsive tweaks */
@media (max-width: 640px){
	.auth-modal{ width:100%; max-width:100%; padding:14px; border-radius:10px; }
	.auth-actions{ flex-direction:column-reverse; gap:8px; align-items:stretch; }
	.auth-actions .primary{ width:100%; }
	.confirm-footer{ flex-direction:column-reverse; gap:8px; align-items:stretch; }
	.profile { max-width: 100%; }
	.profile .head{ flex-direction:column; align-items:flex-start; }
	.profile .avatar{ margin-right:0; margin-bottom:8px; }
}

/* Confirm modal footer buttons */
.confirm-footer{ display:flex; gap:10px; justify-content:flex-end; margin-top:10px; }
.cancel-btn{ background:transparent; border:1px solid #e6e9ee; color:#374151; padding:8px 12px; border-radius:8px; cursor:pointer; }
.cancel-btn:hover{ background:#f8fafc; }
.confirm-btn{ background:#ef4444; color:white; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; box-shadow:0 6px 18px rgba(239,68,68,0.12); }
.confirm-btn:hover{ transform:translateY(-1px); }
